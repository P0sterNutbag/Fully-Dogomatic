[gd_scene load_steps=11 format=3 uid="uid://ce3yg2stl38va"]

[ext_resource type="Script" path="res://Scripts/upgrade_shop.gd" id="1_i1wjx"]
[ext_resource type="PackedScene" uid="uid://diu6fl025qdv0" path="res://Scenes/Upgrades/upgrade_option.tscn" id="2_yk5qi"]
[ext_resource type="FontFile" uid="uid://kx3kmho3mt5o" path="res://Art/Sprites/Blue Sky 8x8.ttf" id="3_dpyk4"]
[ext_resource type="Material" uid="uid://bpyc72ajp6yfb" path="res://Art/Shaders/colorswap.tres" id="3_qmdkj"]
[ext_resource type="Script" path="res://Scripts/ui_menu_button_grow_on_focus.gd" id="3_yonfi"]
[ext_resource type="Texture2D" uid="uid://cfexhnjuunwva" path="res://Art/Sprites/cancel.png" id="4_hg71v"]
[ext_resource type="Theme" uid="uid://dpv7tir788p5t" path="res://Art/Themes/ui text small.tres" id="7_cd2gk"]
[ext_resource type="Script" path="res://Scripts/circle.gd" id="7_fyufh"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_ap13o"]

[sub_resource type="Theme" id="Theme_h1fl5"]
Button/colors/font_color = Color(1, 1, 1, 1)
Button/colors/font_focus_color = Color(1, 0, 0, 1)
Button/colors/font_hover_color = Color(1, 0, 0, 1)
Button/font_sizes/font_size = 14
Button/fonts/font = ExtResource("3_dpyk4")
Button/styles/focus = SubResource("StyleBoxEmpty_ap13o")

[node name="UpgradeShop" type="Control" node_paths=PackedStringArray("options")]
process_mode = 3
material = ExtResource("3_qmdkj")
layout_mode = 3
anchors_preset = 0
script = ExtResource("1_i1wjx")
options = [NodePath("UpgradeOption"), NodePath("UpgradeOption2"), NodePath("UpgradeOption3")]

[node name="ExitButton" type="Button" parent="."]
use_parent_material = true
layout_mode = 0
offset_left = 89.0
offset_top = 163.0
offset_right = 137.0
offset_bottom = 211.0
pivot_offset = Vector2(17, 17)
focus_neighbor_left = NodePath("../Reroll")
focus_neighbor_right = NodePath("../UpgradeOption")
theme = SubResource("Theme_h1fl5")
flat = true
script = ExtResource("3_yonfi")
metadata/_edit_group_ = true

[node name="Circle" type="Control" parent="ExitButton"]
use_parent_material = true
layout_mode = 3
anchors_preset = 0
offset_left = 12.0
offset_top = 12.0
offset_right = 12.0
offset_bottom = 12.0
script = ExtResource("7_fyufh")
circle_radius = 24

[node name="Sprite2D" type="Sprite2D" parent="ExitButton"]
visible = false
material = ExtResource("3_qmdkj")
position = Vector2(17, 17)
texture = ExtResource("4_hg71v")

[node name="RichTextLabel" type="RichTextLabel" parent="ExitButton"]
use_parent_material = true
layout_mode = 0
offset_left = 3.0
offset_top = 19.0
offset_right = 45.0
offset_bottom = 30.0
mouse_filter = 2
theme = ExtResource("7_cd2gk")
bbcode_enabled = true
text = "[center]EXIT"

[node name="UpgradeOption" parent="." instance=ExtResource("2_yk5qi")]
layout_mode = 0
offset_left = 104.0
offset_top = 218.0
offset_right = 232.0
offset_bottom = 346.0
focus_neighbor_left = NodePath("../ExitButton")
focus_neighbor_right = NodePath("../UpgradeOption2")
upgrade_array = Array[String](["common_guns"])
show_price = true

[node name="UpgradeOption2" parent="." instance=ExtResource("2_yk5qi")]
layout_mode = 0
offset_left = 254.0
offset_top = 218.0
offset_right = 382.0
offset_bottom = 346.0
focus_neighbor_left = NodePath("../UpgradeOption")
focus_neighbor_right = NodePath("../UpgradeOption3")
upgrade_array = Array[String](["uncommon_guns", "rare_guns"])
show_price = true

[node name="UpgradeOption3" parent="." instance=ExtResource("2_yk5qi")]
layout_mode = 0
offset_left = 407.0
offset_top = 218.0
offset_right = 535.0
offset_bottom = 346.0
focus_neighbor_left = NodePath("../UpgradeOption2")
focus_neighbor_right = NodePath("../Reroll")
upgrade_array = Array[String](["upgrades"])
show_price = true

[node name="Reroll" type="Button" parent="."]
use_parent_material = true
layout_mode = 0
offset_left = 506.0
offset_top = 164.0
offset_right = 554.0
offset_bottom = 212.0
pivot_offset = Vector2(21, 12)
focus_neighbor_left = NodePath("../UpgradeOption3")
focus_neighbor_right = NodePath("../ExitButton")
theme = SubResource("Theme_h1fl5")
flat = true
script = ExtResource("3_yonfi")
metadata/_edit_group_ = true

[node name="Circle" type="Control" parent="Reroll"]
use_parent_material = true
anchors_preset = 0
offset_left = 12.0
offset_top = 12.0
offset_right = 12.0
offset_bottom = 12.0
script = ExtResource("7_fyufh")
circle_radius = 24

[node name="RichTextLabel" type="RichTextLabel" parent="Reroll"]
use_parent_material = true
layout_mode = 0
offset_left = 3.0
offset_top = 13.0
offset_right = 45.0
offset_bottom = 37.0
mouse_filter = 2
theme = ExtResource("7_cd2gk")
bbcode_enabled = true
text = "[center]REROLL

$5"

[connection signal="focus_entered" from="ExitButton" to="ExitButton/Circle" method="_on_upgrade_option_focus_entered"]
[connection signal="focus_exited" from="ExitButton" to="ExitButton/Circle" method="_on_upgrade_option_focus_exited"]
[connection signal="pressed" from="ExitButton" to="." method="_on_exit_button_pressed"]
[connection signal="focus_entered" from="Reroll" to="Reroll/Circle" method="_on_upgrade_option_focus_entered"]
[connection signal="focus_exited" from="Reroll" to="Reroll/Circle" method="_on_upgrade_option_focus_exited"]
[connection signal="pressed" from="Reroll" to="." method="_on_reroll_pressed"]
